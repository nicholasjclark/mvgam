% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_stan.R
\name{standata.mvgam_formula}
\alias{standata.mvgam_formula}
\title{Generate Stan Data for mvgam Formula}
\usage{
\method{standata}{mvgam_formula}(
  object,
  data,
  family = gaussian(),
  prior = NULL,
  data2 = NULL,
  sample_prior = "no",
  sparse = NULL,
  knots = NULL,
  drop_unused_levels = TRUE,
  stanvars = NULL,
  threads = getOption("mc.cores", 1),
  ...
)
}
\arguments{
\item{object}{An \code{mvgam_formula} object created by \code{mvgam_formula()}.}

\item{data}{A data frame containing all variables referenced in the formula.}

\item{family}{Family specification. Supports most brms families including
ordinal families (see \code{\link[brms:brmsfamily]{brms::cumulative()}}, \code{\link[brms:brmsfamily]{brms::sratio()}},
\code{\link[brms:brmsfamily]{brms::cratio()}}, \code{\link[brms:brmsfamily]{brms::acat()}}). Multi-category families requiring
separate linear predictors for each response category are not supported:
\code{\link[brms:brmsfamily]{brms::categorical()}}, \code{\link[brms:brmsfamily]{brms::multinomial()}}, \code{\link[brms:brmsfamily]{brms::dirichlet()}}. For
these response types, use brms directly.}

\item{prior}{An optional \code{brmsprior} object containing custom prior
specifications. Can be created using \code{brms::prior()}.}

\item{data2}{Optional data frame for out-of-sample prediction points.}

\item{sample_prior}{Character string indicating whether to sample from priors
only. Options: \code{"no"} (default), \code{"yes"}, \code{"only"}.}

\item{sparse}{Logical; should sparse matrix operations be used? Default is
\code{NULL} (automatic selection).}

\item{knots}{Optional list of knot positions for spline terms.}

\item{drop_unused_levels}{Logical; should unused factor levels be dropped?
Default is \code{TRUE}.}

\item{stanvars}{Optional \code{stanvars} object containing additional Stan
variables, parameters, or functions.}

\item{threads}{Number of threads to use for parallelization. Default is
\code{getOption("mc.cores", 1)}.}

\item{...}{Additional arguments passed to internal functions.}
}
\value{
A named list containing all data for Stan model including observation
and trend data components. Structure matches exactly what would be passed to
Stan during fitting by \code{mvgam()}. This data is generated using the same
shared infrastructure as \code{mvgam()}, ensuring complete consistency.
}
\description{
Generate complete Stan data list for an \code{mvgam_formula} object before
model fitting. This allows users to inspect the generated data structure for
debugging, understanding, or modification purposes.
}
\details{
This function uses the shared Stan data generation infrastructure
(\code{generate_stan_components_mvgam_formula()}) to ensure identical output
to what \code{mvgam()} uses internally. The returned data structure includes
all observation data, trend mappings, dimensions, and stanvars needed for
model compilation and fitting.
}
\examples{
\dontrun{
# Create mvgam_formula object
mf <- mvgam_formula(count ~ temperature, trend_formula = ~ AR(p = 1))

# Generate Stan data
stan_data <- standata(mf, data = ecology_data, family = poisson())
str(stan_data)

# With custom priors
custom_priors <- brms::prior("normal(0, 0.5)", class = "ar1_trend") +
                 brms::prior("exponential(2)", class = "sigma_trend")
stan_data_custom <- standata(mf, data = ecology_data,
                             family = poisson(), prior = custom_priors)
}

}
\seealso{
\code{\link{mvgam_formula}}, \code{\link{get_prior.mvgam_formula}},
\code{\link{stancode}}, \code{\link{mvgam}}
}
